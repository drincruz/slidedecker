{% extends "admin/base_admin.html" %}
{% block body %}
<script src="{{ url_for('static', filename='js/admin/app.js') }}"></script>
<h3>Add New Slide</h3>
<div class="form-group" ng-app="myApp">
    <div ng-controller="MainCtrl">
        <div ng-repeat="field in slides track by $index">
            <!--<form action="{{ url_for('admin.slide_edit') }}" method="POST" role="form">-->
                <input type="hidden" name="slide_id" ng-model="slides[$index].id">
                <label for="fTitle">Title:</label>
                <input type="text" size="30" name="title" class="form-control"
                    ng-model="slides[$index].title">
                <label for="fBgImg">Background Image:</label>
                <input type="text" size="30" name="bg-image" class="form-control" placeholder="URL"
                    ng-model="slides[$index].bg_image">
                <label for="fBgColor">Background Color:</label>
                <input type="text" size="30" name="bg-color" class="form-control"
                    ng-model="slides[$index].bg_color">
                <label for="fText">Text:</label>
                <textarea name="text" rows="5"cols="40" class="form-control"
                    ng-model="slides[$index].text"></textarea>
                <button type="submit" class="btn btn-default" 
                    ng-click="saveSlide(slides[$index])">Save</button>
                <!--</form>-->
        </div>
        {% for message in get_flashed_messages() %}
            <div class="flash">{{ message }}</div>
        {% endfor %}
        <form action="{{ url_for('admin.slide_edit') }}" method="POST" role="form">
            <input type="hidden" name="slide_id">
            <label for="fTitle">Title:</label>
            <input type="text" size="30" name="title" class="form-control">
            <label for="fBgImg">Background Image:</label>
            <input type="text" size="30" name="bg-image" class="form-control" placeholder="URL">
            <label for="fBgColor">Background Color:</label>
            <input type="text" size="30" name="bg-color" class="form-control">
            <label for="fText">Text:</label>
            <textarea name="text" rows="5"cols="40" class="form-control"></textarea>
            <button type="submit" class="btn btn-default">Save</button>
        </form>
    </div>
{% endblock %}
